#!/bin/bash
# This is a sample PIO configuration script

# Cleanup old cmake files
rm -rf CMake*

BUILD_DIR=`pwd`

cmake \
  -D CMAKE_INSTALL_PREFIX:FILEPATH=$BUILD_DIR/install \
  -D CMAKE_VERBOSE_MAKEFILE=FALSE \
  -D PREFER_STATIC=TRUE \
  -D CMAKE_SYSTEM_NAME=Catamount \
  -D CMAKE_C_COMPILER=cc \
  -D CMAKE_Fortran_COMPILER=ftn \
  -D CMAKE_C_FLAGS="-O3 -DHAVE_NANOTIME -DBIT64 -DHAVE_VPRINTF -DHAVE_BACKTRACE -DHAVE_SLASHPROC -DHAVE_COMM_F2C -DHAVE_TIMES -DHAVE_GETTIMEOFDAY" \
  -D CMAKE_Fortran_FLAGS="-O3 -DHAVE_NANOTIME -DBIT64 -DHAVE_VPRINTF -DHAVE_BACKTRACE -DHAVE_SLASHPROC -DHAVE_COMM_F2C -DHAVE_TIMES -DHAVE_GETTIMEOFDAY" \
  -D NetCDF_PATH=${NETCDF_DIR} \
  -D PnetCDF_PATH=${PARALLEL_NETCDF_DIR} \
  -D HDF5_PATH=${HDF5_DIR} \
  -D PIO_ENABLE_TIMING=OFF \
  -D PIO_ENABLE_TESTS=OFF \
..
