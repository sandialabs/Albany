
rm -rf CMake*

INSTALL_LOCATION=/nightlyAlbanyTests/Results/Trilinos/build/install
CISM_SOURCE_DIR=/nightlyCDash/repos
PWD=`pwd`
ALBANY_INSTALL_DIR=$PWD/install

cmake \
    -GNinja \
    -D ALBANY_TRILINOS_DIR:PATH=${INSTALL_LOCATION} \
    -D CMAKE_C_COMPILER=/tpls/install/bin/mpicc \
    -D CMAKE_CXX_COMPILER=/tpls/install/bin/mpicxx \
    -D ENABLE_LANDICE:BOOL=ON \
    -D ENABLE_UNIT_TESTS:BOOL=ON \
    -D ENABLE_DEMO_PDES:BOOL=OFF \
    -D ENABLE_ALBANY_EPETRA:BOOL=ON \
    -D ENABLE_CHECK_FPE:BOOL=OFF \
    -D ENABLE_OMEGAH:BOOL=ON \
    -D ENABLE_MPAS_INTERFACE:BOOL=OFF \
    -D ENABLE_CISM_INTERFACE:BOOL=ON \
    -D ENABLE_CISM_CHECK_COMPARISONS:BOOL=OFF \
    -D ENABLE_CISM_REDUCED_COMM:BOOL=OFF \
    -D SEACAS_EPU=${INSTALL_LOCATION}/bin/epu \
    -D SEACAS_DECOMP=${INSTALL_LOCATION}/bin/decomp \
    -D SEACAS_EXODIFF=${INSTALL_LOCATION}/bin/exodiff \
    -D SEACAS_ALGEBRA=${INSTALL_LOCATION}/bin/algebra \
    -D CISM_INCLUDE_DIR:FILEPATH=${CISM_SOURCE_DIR}/cism-piscees/libdycore \
    -D CMAKE_INSTALL_PREFIX:BOOL=${ALBANY_INSTALL_DIR} \
    -D ENABLE_USE_CISM_FLOW_PARAMETERS:BOOL=ON \
../
